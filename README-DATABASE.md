# ุฏููู ูุงุนุฏุฉ ุงูุจูุงูุงุช - Fener Travel

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุตููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู **Prisma ORM** ูุน ุฏุนู ููุงุนุฏ ุงูุจูุงูุงุช ุงููุฎุชููุฉ (PostgreSQL, MySQL, SQLite).

## ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ

#### ๐ข **ุงููุฑูุน (Branches)**

- ุฅุฏุงุฑุฉ ูุฑูุน ุงูุดุฑูุฉ
- ุฑุจุท ุงููุณุชุฎุฏููู ูุงูุดุญูุงุช ุจุงููุฑูุน

#### ๐ฅ **ุงููุณุชุฎุฏููู (Users)**

- ููุนูู: ูุฏุฑุงุก ูููุธูู ูุฑูุน
- ูุธุงู ุตูุงุญูุงุช ูุชูุฏู
- ุฑุจุท ูุน ุงููุฑูุน

#### ๐ **ุงูุจูุฏุงู (Countries)**

- ุจูุฏุงู ุงูููุดุฃ ูุงููุฌูุฉ
- ุฏุนู ุงูุฃุนูุงู ูุงูุฑููุฒ
- ุชุตููู ุงูุจูุฏุงู (ููุดุฃ/ูุฌูุฉ/ููุงููุง)

#### ๐ฆ **ุงูุดุญูุงุช (Shipments)**

- ุงููููุฐุฌ ุงูุฃุณุงุณู ูููุธุงู
- ุจูุงูุงุช ูุงููุฉ ูููุฑุณู ูุงููุณุชูู
- ุชุชุจุน ูุงูู ูููุฌุณุชู ุดุงูู

#### ๐ **ุญุงูุงุช ุงูุดุญูุฉ (ShipmentStatus)**

- ุญุงูุงุช ูุฎุตุตุฉ ูุน ุฃููุงู
- ุชุฑุชูุจ ููุทูู ููุญุงูุงุช
- ุฏุนู ุชุฎุตูุต ุณูุฑ ุงูุนูู

### ุงูุฌุฏุงูู ุงููุณุงุนุฏุฉ

#### ๐ **ุชุงุฑูุฎ ุงูุดุญูุฉ (ShipmentHistory)**

- ุชุชุจุน ุฌููุน ุงูุชุบููุฑุงุช
- ุณุฌู ููุตู ููุญููู ุงููุญุฏุซุฉ
- ุฑุจุท ุจุงููุณุชุฎุฏู ุงููุณุคูู

#### ๐ **ุฃุญุฏุงุซ ุงูุชุชุจุน (TrackingEvent)**

- ุฃุญุฏุงุซ ุชูุตูููุฉ ููุชุชุจุน
- ููุงูุน ูุฃููุงุช ูุญุฏุฏุฉ
- ุชุญุฏูุซุงุช ููุฑูุฉ ููุนููุงุก

#### ๐ **ุณุฌู ุงูุนูููุงุช (LogEntry)**

- ุชุณุฌูู ุฌููุน ุนูููุงุช ุงููุธุงู
- ูุนูููุงุช ุฃูููุฉ (IP, User Agent)
- ุชุตููู ุฃููุงุน ุงูุนูููุงุช

#### ๐งพ **ุงูููุงุชูุฑ (Invoice)**

- ููุงุชูุฑ ููุตูุฉ ููู ุดุญูุฉ
- ุญุณุงุจ ุงูุถุฑุงุฆุจ ูุงูุฎุตููุงุช
- ุชุชุจุน ุญุงูุฉ ุงูุฏูุน

#### ๐ **ุจูููุตุฉ ุงูุดุญู (Waybill)**

- ูุซุงุฆู ุงูุดุญู ุงูุฑุณููุฉ
- ุจูุงูุงุช ุงููุงูู ูุงูููุงุนูุฏ
- ูุฑุฌุน ููุนูููุงุช ุงูููุฌุณุชูุฉ

## ุงูุนูุงูุงุช ุจูู ุงูุฌุฏุงูู

```
User โโ Branch (ูุณุชุฎุฏู ููุชูู ููุฑุน)
User โ Shipment (ูุณุชุฎุฏู ููุดุฆ ุดุญูุงุช)
Branch โ Shipment (ูุฑุน ูุฏูุฑ ุดุญูุงุช)
Country โ Shipment (ุจูุฏ ููุดุฃ/ูุฌูุฉ)
ShipmentStatus โ Shipment (ุญุงูุฉ ุงูุดุญูุฉ)
Shipment โ ShipmentHistory (ุชุงุฑูุฎ ุงูุชุญุฏูุซุงุช)
Shipment โ TrackingEvent (ุฃุญุฏุงุซ ุงูุชุชุจุน)
Shipment โ Invoice (ูุงุชูุฑุฉ ุงูุดุญูุฉ)
Shipment โ Waybill (ุจูููุตุฉ ุงูุดุญู)
```

## ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 1. ุฅูุดุงุก ููู ุงูุจูุฆุฉ

ุฃูุดุฆ ููู `.env` ูู ุฌุฐุฑ ุงููุดุฑูุน:

```env
# ูุงุนุฏุฉ ุงูุจูุงูุงุช
DATABASE_URL="postgresql://username:password@localhost:5432/fenertravel"

# ุฃู ุงุณุชุฎุฏู MySQL
# DATABASE_URL="mysql://username:password@localhost:3306/fenertravel"

# ุฃู SQLite ููุชุทููุฑ
# DATABASE_URL="file:./dev.db"

# ููุชุงุญ JWT
JWT_SECRET="your-super-secret-jwt-key-here"

# ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู
NODE_ENV="development"
PORT=3000
```

### 2. ุชุซุจูุช ุงูููุชุจุงุช

```bash
yarn install
```

### 3. ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
# ุชูููุฏ ุงูุนููู
yarn db:generate

# ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช (PostgreSQL/MySQL)
yarn db:push

# ุฃู ุงุณุชุฎุฏุงู ุงููุงูุฌุฑูุดู
yarn db:migrate

# ุชุนุจุฆุฉ ุงูุจูุงูุงุช ุงูุฃูููุฉ
yarn db:seed
```

### 4. ูุชุญ ุฃุฏุงุฉ ุงูุฅุฏุงุฑุฉ

```bash
yarn db:studio
```

## ุจูุงูุงุช ุงูุฏุฎูู ุงูุงูุชุฑุงุถูุฉ

ุจุนุฏ ุชุดุบูู ุงูู seed ุณุชุชููุฑ ุงูุญุณุงุจุงุช ุงูุชุงููุฉ:

- **ุงููุฏูุฑ ุงูุนุงู**: `admin@fenertravel.com` / `123456`
- **ููุธู ูุฑุน ุงูุฑูุงุถ**: `ahmed@fenertravel.com` / `123456`
- **ููุธู ูุฑุน ุฌุฏุฉ**: `fatima@fenertravel.com` / `123456`
- **ููุธู ูุฑุน ุฏุจู**: `mohammed@fenertravel.com` / `123456`

## ุงูุฃูุงูุฑ ุงููููุฏุฉ

```bash
# ุฅุนุงุฏุฉ ุชุนููู ูุงุนุฏุฉ ุงูุจูุงูุงุช
yarn db:reset

# ุชุทุจูู ุงูุชุบููุฑุงุช ุนูู ุงูุฅูุชุงุฌ
yarn db:deploy

# ุนุฑุถ ูุงุฌูุฉ ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
yarn db:studio
```

## ุงูููุฒุงุช ุงููุชูุฏูุฉ

### ๐ ุฃูุงู ุงูุจูุงูุงุช

- ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ุจุงุณุชุฎุฏุงู bcrypt
- ุชุณุฌูู ุฌููุน ุงูุนูููุงุช ูุน IP ูุงูููุช
- ูุธุงู ุตูุงุญูุงุช ูุชุฏุฑุฌ

### ๐ ุงูุฃุฏุงุก

- ููุฑุณุฉ ุฐููุฉ ููุจุญุซ ุงูุณุฑูุน
- ุนูุงูุงุช ูุญุณูุฉ ูุชูููู ุงูุงุณุชุนูุงูุงุช
- ุฏุนู Pagination ููุจูุงูุงุช ุงููุจูุฑุฉ

### ๐ ุงููุฑููุฉ

- ุฏุนู ููุงุนุฏ ุงูุจูุงูุงุช ุงููุฎุชููุฉ
- ุฅููุงููุฉ ุชูุณูุน ุงูููุงุฐุฌ ุจุณูููุฉ
- ูุธุงู ูุงูุฌุฑูุดู ุขูู

### ๐ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช

- ุจูุงูุงุช ุดุงููุฉ ููู ุดุญูุฉ
- ุชุชุจุน ุงูุฃุฏุงุก ุนุจุฑ ุงููุฑูุน
- ุฅุญุตุงุฆูุงุช ูุงููุฉ ููุตูุฉ

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ:

1. **ุฎุทุฃ ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช**

   - ุชุฃูุฏ ูู ุตุญุฉ `DATABASE_URL`
   - ุชุฃูุฏ ูู ุชุดุบูู ุฎุงุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช

2. **ูุดู ูู ุงููุงูุฌุฑูุดู**

   - ุงุญุฐู ูุฌูุฏ `prisma/migrations`
   - ุดุบู `yarn db:push` ุจุฏูุงู ูู migrate

3. **ูุดุงูู ูู ุงูุจูุงูุงุช**
   - ุงุณุชุฎุฏู `yarn db:reset` ูุฅุนุงุฏุฉ ุงูุชุนููู

- ุฃุนุฏ ุชุดุบูู `yarn db:seed`

## ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุงุณุชูุณุงุฑุงุชุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.
